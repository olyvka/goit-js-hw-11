{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/css-loader.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const refs = {\n    gallery: document.querySelector('.gallery'),\n    form: document.querySelector('.form'),\n    formInput: document.querySelector('.form-input'),\n    btn: document.querySelector('.button'),\n    container: document.querySelector('.container'),\n    cssLoader: document.querySelector('#span-loader'),\n  };","import { refs } from './refs';\nexport function createLoader() {\n  refs.cssLoader.classList.add('loader');\n}\n\nexport function removeLoader() {\n  refs.cssLoader.classList.remove('loader');\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './refs';\nimport { removeLoader } from './css-loader';\nexport function getPixabayImages(inputValue) {\n  if (inputValue === '') {\n    removeLoader();\n    return iziToast.error({\n      message: 'Form field must be filled in',\n      position: 'topRight',\n    });\n  }\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PIXABAY_KEY = '?key=42450434-3c949e4f0cfd845cc919e9207';\n  const PARAMS = `&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = BASE_URL + PIXABAY_KEY + PARAMS;\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"gallery-item\">\n          <a href=\"${data.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <div class=\"text\">\n          <p><b>Likes </b>${data.likes}</p>\n          <p><b>Views </b>${data.views}</p>\n          <p><b>Comments </b>${data.comments}</p>\n          <p><b>Downloads </b>${data.downloads}</p>\n          </div>\n          </li>`;\n          })\n          .join('');\n        refs.gallery.insertAdjacentHTML('afterbegin', markup);\n        const gallery = new SimpleLightbox('.gallery a', modalOptions);\n        gallery.refresh();\n      }\n    })\n    .catch(error => console.log('Error:', error))\n    .finally(() => {\n      removeLoader();\n    });\n}\n\nconst modalOptions = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};","import { refs } from './refs';\nimport { getPixabayImages } from './render-functions';\nimport { createLoader } from './css-loader';\nexport function onFormSubmit(event) {\n  event.preventDefault();\n  createLoader();\n  refs.gallery.innerHTML = '';\n  const userInputValue = refs.formInput.value.trim();\n  getPixabayImages(userInputValue);\n  refs.form.reset();\n}","import { refs } from './js/refs';\nimport { onFormSubmit } from './js/pixabay-api';\n\nrefs.form.addEventListener('submit', onFormSubmit);"],"names":["refs","createLoader","removeLoader","getPixabayImages","inputValue","iziToast","BASE_URL","PIXABAY_KEY","PARAMS","url","response","data","markup","SimpleLightbox","modalOptions","error","onFormSubmit","event","userInputValue"],"mappings":"6vBAAO,MAAMA,EAAO,CAChB,QAAS,SAAS,cAAc,UAAU,EAC1C,KAAM,SAAS,cAAc,OAAO,EACpC,UAAW,SAAS,cAAc,aAAa,EAC/C,IAAK,SAAS,cAAc,SAAS,EACrC,UAAW,SAAS,cAAc,YAAY,EAC9C,UAAW,SAAS,cAAc,cAAc,CACjD,ECNI,SAASC,GAAe,CAC7BD,EAAK,UAAU,UAAU,IAAI,QAAQ,CACvC,CAEO,SAASE,GAAe,CAC7BF,EAAK,UAAU,UAAU,OAAO,QAAQ,CAC1C,CCDO,SAASG,EAAiBC,EAAY,CAC3C,GAAIA,IAAe,GACjB,OAAAF,IACOG,EAAS,MAAM,CACpB,QAAS,+BACT,SAAU,UAChB,CAAK,EAEH,MAAMC,EAAW,2BACXC,EAAc,0CACdC,EAAS,MAAMJ,CAAU,2DACzBK,EAAMH,EAAWC,EAAcC,EACrC,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBN,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,MACI,CACL,MAAMO,EAASD,EAAK,KACjB,IAAIA,GACI;AAAA,qBACEA,EAAK,aAAa;AAAA,4CACKA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,4BAEpDA,EAAK,KAAK;AAAA,4BACVA,EAAK,KAAK;AAAA,+BACPA,EAAK,QAAQ;AAAA,gCACZA,EAAK,SAAS;AAAA;AAAA,gBAGnC,EACA,KAAK,EAAE,EACVX,EAAK,QAAQ,mBAAmB,aAAcY,CAAM,EACpC,IAAIC,EAAe,aAAcC,CAAY,EACrD,QAAO,CAChB,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,EAC3C,QAAQ,IAAM,CACbb,GACN,CAAK,CACL,CAEA,MAAMY,EAAe,CACnB,aAAc,MACd,aAAc,GAChB,EC1DO,SAASE,EAAaC,EAAO,CAClCA,EAAM,eAAc,EACpBhB,IACAD,EAAK,QAAQ,UAAY,GACzB,MAAMkB,EAAiBlB,EAAK,UAAU,MAAM,KAAI,EAChDG,EAAiBe,CAAc,EAC/BlB,EAAK,KAAK,OACZ,CCPAA,EAAK,KAAK,iBAAiB,SAAUgB,CAAY"}